FROM alpine:latest

RUN apk --no-cache add ca-certificates

WORKDIR /root/

# Copy the pre-built binary file from the builder stage
COPY mcp-trino .

# Default environment variables
ENV TRINO_HOST="trino"
ENV TRINO_PORT="8080"
ENV TRINO_USER="trino"
ENV TRINO_CATALOG="memory"
ENV TRINO_SCHEMA="default"
ENV MCP_TRANSPORT="http"
ENV MCP_PORT="9097"

# Expose the port
EXPOSE ${MCP_PORT}

# Run the application
ENTRYPOINT ["./mcp-trino"] 